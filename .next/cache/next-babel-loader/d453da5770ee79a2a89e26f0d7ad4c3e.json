{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport NProgressBar from './components/NProgressBar';\nimport AppDrawer from './components/AppDrawer';\nimport MenuAction from './components/MenuAction';\nimport AppContent from './components/AppContent'; //import AppSearch from './components/AppSearch'\n\nimport AppPage from './components/AppBody';\nimport { img as Img } from 'macoolka-ui-components/lib/Html';\nimport PageTitle from './components/PageTitle';\nimport { useAppStyle, useAppInfo, useAppComponents, useAppResource } from './AppContext';\nimport AppBar from './components/AppBar';\nimport { create } from 'jss';\nimport { registerServiceWorker, loadDependencies } from './helper';\nimport { StylesProvider, jssPreset } from '@material-ui/styles';\nimport FlexFlow from 'macoolka-ui-components/lib/FlexGrow';\nvar dependenciesLoaded = false; // Configure JSS\n\nvar jss = create({\n  plugins: _toConsumableArray(jssPreset().plugins),\n  insertionPoint: process.browser ? document.querySelector('#insertion-point-jss') : undefined\n});\n\nvar AppFrame = function AppFrame(_ref) {\n  var children = _ref.children;\n  var resource = useAppResource();\n\n  var _useAppInfo = useAppInfo(),\n      bgImgUrl = _useAppInfo.bgImgUrl;\n\n  var _useAppStyle = useAppStyle(),\n      isShowBar = _useAppStyle.isShowBar;\n\n  var _useAppComponents = useAppComponents(),\n      PageRoot = _useAppComponents.PageRoot,\n      PageToolBar = _useAppComponents.PageToolBar;\n\n  React.useEffect(function () {\n    if (dependenciesLoaded) return;\n    dependenciesLoaded = true;\n    loadDependencies(resource);\n    registerServiceWorker(); // Remove the server-side injected CSS.\n\n    var jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles && jssStyles.parentElement) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n  return __jsx(StylesProvider, {\n    jss: jss\n  }, __jsx(AppPage, null, __jsx(NProgressBar, null), __jsx(CssBaseline, null), bgImgUrl && isShowBar ? __jsx(Img, {\n    src: bgImgUrl,\n    mkImage: \"center\",\n    mkWidth: \"full\",\n    mkHeight: \"full\",\n    mkFixed: \"full\"\n  }) : undefined, __jsx(AppBar, null, __jsx(MenuAction, null), __jsx(PageTitle, null), __jsx(FlexFlow, null)), __jsx(AppDrawer, {\n    disablePermanent: true\n  }), __jsx(AppContent, null, __jsx(PageRoot, null, children))));\n};\n\nexport default AppFrame;","map":null,"metadata":{},"sourceType":"module"}