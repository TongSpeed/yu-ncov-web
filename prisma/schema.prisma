datasource db {
  provider = "sqlite"
  url      = "file:new.db"
  default  = true
}

generator client {
  provider = "prisma-client-js"
}

enum Role {
  USER
  VERIFIED
  ADMIN
}

model User {
  id        String   @default(cuid()) @id
  email     String   @unique
  name      String?  @unique
  nickname  String   @unique
  password  String
  avatar    Boolean  @default(false)
  role      Role     @default(USER)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Country {
  id         String     @default(cuid()) @id
  title      String     @unique
  continents String?
  provinces  Province[]
  cuid       String     @default(cuid())
  tags       String
}

model Province {
  id      String  @default(cuid()) @id
  title   String  @unique
  country Country
  cities  City[]
  cuid    String  @default(cuid())
  tags    String
}

model City {
  id       String   @default(cuid()) @id
  title    String
  province Province
  cuid     String   @default(cuid())
  tags     String

}

model Area {
  id    String @default(cuid()) @id
  title String
  city  City
  cuid  String @default(cuid())
  tags  String
}

model VirusInfo {
  id          String @default(cuid()) @id
  title       String @unique
  description String
}

model Rumor {
  id        String   @default(cuid()) @id
  title     String   @unique
  subTitle  String
  content   String
  recordAt  DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model News {
  id        String   @default(cuid()) @id
  title     String  
  subTitle  String?
  content   String
  recordAt  DateTime
  infoSource String
  createdAt DateTime @default(now())
  sourceUrl String  @unique
  updatedAt DateTime @updatedAt
  province String
}
 
 
model CountryRecord {
  id                String    @default(cuid()) @id
  country           Country
  continents        String?
  virus             VirusInfo
  sourceUrl         String
  suspectedCount    Int
  confirmedCount    Int
  curedCount        Int
  deadCount         Int
  seriousCount      Int?
  suspectedAddCount Int?
  confirmedAddCount Int?
  curedAddCount     Int?
  deadAddCount      Int?
  seriousAddCount   Int?
  recordAt          DateTime
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt

}

model ProvinceRecord {
  id             String    @default(cuid()) @id
  country        Country
  province       Province
  virus          VirusInfo
  sourceUrl      String
  suspectedCount Int
  confirmedCount Int
  curedCount     Int
  deadCount      Int

  recordAt  DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt


}

model CityRecord {
  id             String    @default(cuid()) @id
  country        Country
  province       Province
  city           City
  virus          VirusInfo
  sourceUrl      String
  suspectedCount Int
  confirmedCount Int
  curedCount     Int
  deadCount      Int
  recordAt       DateTime
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
}